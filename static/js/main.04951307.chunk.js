(this["webpackJsonpcapstone-project"]=this["webpackJsonpcapstone-project"]||[]).push([[0],{32:function(e,t,c){},33:function(e,t,c){"use strict";c.r(t);var s=c(1),r=c.n(s),n=c(19),i=c.n(n),a=c(2),o=c(8),l=c(21),j=c(17),d=c(6),u="/web-shop",b="https://raw.githubusercontent.com/boredgus/web-shop/main/src/data/images.json",h="https://github.com/boredgus/web-shop/blob/main/public/assets/empty-heart.png?raw=true",m="https://github.com/boredgus/web-shop/blob/main/public/assets/filled-heart.png?raw=true",O="https://raw.githubusercontent.com/boredgus/web-shop/main/public/assets/empty-cart.svg?raw=true",p="https://github.com/boredgus/web-shop/blob/main/public/assets/filled-cart.png?raw=true",x="https://github.com/boredgus/web-shop/blob/main/public/assets/trash-bin.png?raw=true",g="https://github.com/boredgus/web-shop/blob/main/public/assets/filled-trash-bin.png?raw=true",v=c(0),f=r.a.createContext();function C(e){var t=e.children,c=Object(s.useState)([]),r=Object(d.a)(c,2),n=r[0],i=r[1],a=Object(s.useState)([]),o=Object(d.a)(a,2),u=o[0],h=o[1],m=Object(s.useState)(!1),O=Object(d.a)(m,2),p=O[0],x=O[1];return Object(s.useEffect)((function(){fetch(b).then((function(e){return e.json()})).then((function(e){return i(e)}))}),[]),Object(v.jsx)(f.Provider,{value:{allPhotos:n,toggleFavorite:function(e){var t=n.map((function(t){return t.id===e?Object(j.a)(Object(j.a)({},t),{},{isFavorite:!t.isFavorite}):t}));i(t)},cartItems:u,addToCart:function(e){h((function(t){return[].concat(Object(l.a)(t),[e])}))},removeFromCart:function(e){h((function(t){return t.filter((function(t){return t.id!==e.id}))}))},clearCart:function(){h([])},getItem:function(e){return n.find((function(t){return t.id===e}))},getAllFavourite:function(){return n.filter((function(e){return e.isFavorite}))},isModalWindow:p,toggleIsModalWindow:function(e){x(e)}},children:t})}var y=function(){var e=0===Object(s.useContext)(f).cartItems.length,t=0!==Object(s.useContext)(f).getAllFavourite().length,c=e?O:p,r=t?m:h,n=u;return Object(v.jsx)("header",{children:Object(v.jsxs)("ul",{children:[Object(v.jsx)("li",{}),Object(v.jsx)("li",{children:Object(v.jsx)(o.b,{to:"".concat(n,"/gallery"),children:"IMAGEness"})}),Object(v.jsxs)("li",{children:[Object(v.jsx)(o.b,{to:"".concat(n,"/liked-images"),children:Object(v.jsx)("img",{src:r,alt:"liked"})}),Object(v.jsx)(o.b,{to:"".concat(n,"/cart"),children:Object(v.jsx)("img",{src:c,alt:"cart"})})]})]})})};var N=function(){var e=Object(s.useState)(!1),t=Object(d.a)(e,2),c=t[0],r=t[1],n=Object(s.useRef)(null);function i(){r(!0)}function a(){r(!1)}return Object(s.useEffect)((function(){n.current.addEventListener("mouseenter",i),n.current.addEventListener("mouseleave",a)}),[]),[c,n]};var w=function(e){var t=e.img,c=Object(s.useContext)(f),r=c.toggleFavorite,n=c.cartItems,i=c.addToCart,a=c.removeFromCart,o=N(!1),l=Object(d.a)(o,2),j=l[0],u=l[1];return Object(v.jsxs)("div",{className:"item-container",ref:u,children:[Object(v.jsxs)("div",{className:"icons",children:[Object(v.jsx)("div",{className:"icon heart",children:t.isFavorite?Object(v.jsx)("img",{src:"https://s1.iconbird.com/ico/2013/7/394/w128h1281374316199Hearticons02.png",alt:"heart",onClick:function(){return r(t.id)}}):j?Object(v.jsx)("img",{src:"https://purepng.com/public/uploads/large/red-outline-heart-sdi.png",alt:"heart",onClick:function(){return r(t.id)}}):void 0}),Object(v.jsxs)("div",{className:"icon price",children:[t.price," UAH"]}),Object(v.jsx)("div",{className:"icon add",children:n.some((function(e){return e.id===t.id}))?Object(v.jsx)("img",{src:"https://cdn.iconscout.com/icon/free/png-256/shopping-cart-452-1163339.png",alt:"added",onClick:function(){a(t)}}):j?Object(v.jsx)("img",{src:"https://svgsilh.com/svg_v2/304947.svg",alt:"add",onClick:function(){i(t)}}):void 0})]}),Object(v.jsx)("img",{className:"image",src:t.src,alt:t.id})]})};var k=function(){var e=Object(s.useContext)(f).allPhotos.map((function(e){return Object(v.jsx)(w,{img:e},e.id)}));return Object(v.jsx)("main",{className:"photos",children:Object(v.jsx)("div",{children:e})})};var F=function(e){var t=e.item,c=Object(s.useContext)(f).removeFromCart,r=N(!1),n=Object(d.a)(r,2),i=n[0],a=n[1],o=i?g:x;return Object(v.jsxs)("li",{className:"cart-item",children:[Object(v.jsx)("span",{children:t.id}),Object(v.jsx)("img",{className:"item",src:t.src,alt:"cartImage-".concat(t.id)}),Object(v.jsx)("img",{style:{width:25},src:o,alt:"trash-bin",onClick:function(){return c(t)},ref:a}),Object(v.jsxs)("p",{className:"price",children:["\u20b4 ",t.price]})]},t.id)};var I=function(){var e=Object(s.useContext)(f).cartItems;console.log(e);var t=Object(s.useContext)(f).clearCart;return Object(v.jsx)("div",{className:"modal-layer",children:Object(v.jsxs)("div",{className:"modal-root",children:[Object(v.jsxs)("div",{className:"modal-header",children:[Object(v.jsx)("span",{className:"title",children:"Order description"}),Object(v.jsx)("div",{className:"close-btn",onClick:function(){var e=document.getElementsByClassName("modal-layer")[0];null===e||void 0===e||e.remove(),t(),document.querySelector("body").style.overflowY="auto"},children:"\xd7"})]}),Object(v.jsx)("div",{className:"modal-body",children:Object(v.jsx)("h2",{children:"Order is sent successfully!"})})]})})};var S=function(){var e=Object(s.useContext)(f).cartItems,t=Object(s.useState)("Place order"),c=Object(d.a)(t,2),r=c[0],n=c[1],i=e.map((function(e){return Object(v.jsx)(F,{item:e},e.id)})),a=e.reduce((function(e,t){return t.price+e}),0);return Object(v.jsxs)("main",{children:[Object(v.jsx)("h1",{children:"Cart"}),Object(v.jsx)("ol",{className:"cart",children:i}),Object(v.jsx)("div",{className:"modal"}),Object(v.jsx)(I,{}),e.length>0?Object(v.jsxs)("div",{className:"place-order",children:[Object(v.jsxs)("p",{className:"total-cost",children:["Total: ",a," UAH"]}),Object(v.jsx)("button",{onClick:function(){n("Ordering..."),setTimeout((function(){n("Place order"),document.querySelector(".modal-layer").style.display="flex",document.querySelector("body").style.overflowY="hidden"}),3e3)},children:r})]}):Object(v.jsx)("h2",{className:"empty",children:"The cart is empty. Add some photos!"})]})};var A=function(){var e=(0,Object(s.useContext)(f).getAllFavourite)().map((function(e){return Object(v.jsx)(w,{img:e},e.id)}));return Object(v.jsxs)("main",{children:[Object(v.jsx)("h1",{children:"Liked images"}),Object(v.jsx)("div",{className:"photos",children:e.length>0?Object(v.jsxs)("div",{children:[" ",e," "]}):Object(v.jsx)("h2",{className:"empty",children:" You have liked no images. Like some! "})})]})};c(32);var E=function(){var e=u;return Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)(y,{}),Object(v.jsxs)(a.d,{children:[Object(v.jsx)(a.b,{path:"".concat(e,"/gallery"),children:Object(v.jsx)(k,{})}),Object(v.jsx)(a.b,{path:"".concat(e,"/cart"),children:Object(v.jsx)(S,{})}),Object(v.jsx)(a.b,{path:"".concat(e,"/liked-images"),children:Object(v.jsx)(A,{})}),Object(v.jsx)(a.a,{to:"".concat(e,"/gallery")})]})]})};i.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(C,{children:Object(v.jsx)(o.a,{children:Object(v.jsx)(E,{})})})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.04951307.chunk.js.map